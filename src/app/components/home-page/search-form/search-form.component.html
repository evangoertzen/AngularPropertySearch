<div class="w-80">

    <div class="flex justify-center" >
        <h3 class="block text-gray-700 font-semibold"><strong>Search:</strong></h3>
    </div>

    <form [formGroup]="searchForm" (ngSubmit)="onSubmit()">
    
        <!-- Location string input -->
        <div class="mt-3">
            <label for="listingType" class="block text-gray-700 font-semibold">Location:</label>
            <div class="mt-2">
                <div class="container-1 border border-gray-300 rounded-lg transition w-100">
                    <input
                    formControlName="location"
                    type="text"
                    name="locationInput"
                    class="myinput-link"
                />
                </div>
                <div *ngIf="searchForm.get('location')?.invalid && searchForm.get('location')?.touched">
                    <small *ngIf="searchForm.get('location')?.errors?.['required']" style="color:red">Location is required.</small>
                    <small *ngIf="searchForm.get('location')?.errors?.['minlength']" style="color:red">Location must be at least 3 characters.</small>
                </div>
            </div>
        </div>
    
        <!-- Min/Max slider -->
        <div class="mt-4 w-100">
            <div class="row">
                <label for="priceRange" class="block text-gray-700 font-semibold w-100">Price Range:</label>
                <mat-slider min={{minCost}} max={{maxCost}} step=25000 showTickMarks style="width: 90%;">
                    <input formControlName="minPrice" matSliderStartThumb>
                    <input formControlName="maxPrice" matSliderEndThumb>
                </mat-slider>
            </div>
        </div>

        <!-- Min/Max -->
        <div class="row">
            <div>
                <div class="container-1 border border-gray-300 rounded-lg transition w-100">
                    <span class="prefix">Min:</span>
                    <span class="dollar-sign">$</span>
                    <input class="myinput-link" 
                        type="number" 
                        formControlName="minPrice" 
                        [value]="searchForm.get('minPrice')?.value"
                        [step]=25000>
                </div>
            </div>
            <div class="mt-1">
                <div class="container-1 border border-gray-300 rounded-lg transition w-100">
                    <span class="prefix">Max:</span>
                    <span class="dollar-sign">$</span>
                    <input class="myinput-link" 
                        type="number" 
                        formControlName="maxPrice" 
                        [value]="searchForm.get('maxPrice')?.value"
                        [step]=25000>
                </div>
            </div>
        </div>  
    
        <div class="mt-4">
            <label for="listingType" class="block text-gray-700 font-semibold mb-2">Listing Type:</label>
            
            <select id="listingType" 
                formControlName="listingType" 
                class="w-full px-4 py-2 bg-white border border-gray-300 rounded-lg transition dropdown-option">
                <option *ngFor="let type of propSearch.listingTypes | keyvalue" [value]="type.value">{{ type.key }}</option>
            </select>
        </div>
    
        <div class="mt-4 flex justify-center" >
            <app-common-button [text]="'Search'"></app-common-button>
        </div>
    </form>
</div>
